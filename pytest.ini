[pytest]
# Pytest configuration for Isopgem

# Where to find tests
testpaths = tests

# Patterns for test discovery
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Markers - categorize tests for selective execution
markers =
    unit: Fast unit tests (no I/O, no network, no database)
    integration: Integration tests (touches filesystem, database, or services)
    slow: Slow tests that take >5 seconds
    network: Tests that require network access (Sefaria, Wiktionary, etc.)
    ui: Tests that require PyQt6 UI components
    memory_intensive: Tests that use significant memory (>100MB)
    requires_data: Tests that need data files (lexicons, etymology DB, etc.)
    experimental: Tests for experimental features

# Output options
addopts =
    # Verbose output
    -v
    # Show local variables in tracebacks
    --showlocals
    # Show summary of all test outcomes
    -ra
    # Capture method: no (show print), sys (capture), fd (capture file descriptors)
    --capture=no
    # Traceback style: auto, long, short, line, native, no
    --tb=short
    # Strict markers - fail if unknown marker used
    --strict-markers
    # Show warnings
    -W default

# Minimum Python version
minversion = 3.11

# Test coverage options (if using pytest-cov)
# Uncomment when you add pytest-cov to dependencies
# [tool:pytest]
# addopts = --cov=src --cov-report=html --cov-report=term-missing

# Ignore these directories
norecursedirs =
    .git
    .venv
    __pycache__
    *.egg-info
    _legacy
    node_modules
    dist
    build
